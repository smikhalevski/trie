<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@smikhalevski/trie - v2.0.0</title><meta name="description" content="Documentation for @smikhalevski/trie - v2.0.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@smikhalevski/trie - v2.0.0</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@smikhalevski/trie - v2.0.0 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#trie-ðŸŒ²ensp" id="trie-ðŸŒ²ensp" style="color: inherit; text-decoration: none;">
  <h1>trie ðŸŒ²&ensp;<a href="https://github.com/smikhalevski/trie/actions/workflows/master.yml"><img src="https://github.com/smikhalevski/trie/actions/workflows/master.yml/badge.svg?branch=master&event=push" alt="build"></a></h1>
</a>
<p>The <a href="#performance">extremely fast</a> <a href="https://en.wikipedia.org/wiki/Trie#Compressed_tries">compressed trie</a> implementation
in <a href="https://bundlephobia.com/result?p=@smikhalevski/trie">1 kB gzipped</a>.</p>
<pre><code class="language-shell"><span class="hl-0">npm install --save-prod @smikhalevski/trie</span>
</code></pre>
<ul>
<li><a href="#create"><code>trieCreate</code></a></li>
<li><a href="#set"><code>trieSet</code></a></li>
<li><a href="#get"><code>trieGet</code></a></li>
<li><a href="#search"><code>trieSearch</code></a></li>
<li><a href="#suggest"><code>trieSuggest</code></a></li>
<li><a href="#delete"><code>trieDelete</code></a></li>
</ul>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h1>Usage</h1>
</a>
<p>ðŸ”Ž <a href="https://smikhalevski.github.io/trie/">API documentation is available here.</a></p>

<a href="#triecreate" id="triecreate" style="color: inherit; text-decoration: none;">
  <h3><code>trieCreate()</code><a name="create"></a></h3>
</a>
<p>Creates a blank <a href="https://smikhalevski.github.io/trie/interfaces/Trie.html"><code>Trie</code></a> instance. <code>Trie</code> is a plain object
that you pass as an argument to various functions that traverse and update the data structure.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><span class="hl-4">// â†’ {key: null, value: undefined, â€¦}</span>
</code></pre>

<a href="#triesettrie-key-value" id="triesettrie-key-value" style="color: inherit; text-decoration: none;">
  <h3><code>trieSet(trie, key, value)</code><a name="set"></a></h3>
</a>
<p>Associates the <code>key</code> with the <code>value</code> in the <code>trie</code> and returns the leaf trie object that withholds the key-value pair.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ {key: &#39;foo&#39;, value: 111, â€¦}</span>
</code></pre>
<p>The returned leaf trie instance has stable identity: this object would represent the associated key up to the moment
<a href="#delete">the key is deleted</a>. So, if you set a new value for the key, or add/delete other keys in the trie, the
returned leaf object would still correspond to the original key.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">leaf1</span><span class="hl-0"> = </span><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">leaf2</span><span class="hl-0"> = </span><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">222</span><span class="hl-0">);</span><br/><br/><span class="hl-5">leaf1</span><span class="hl-0"> === </span><span class="hl-5">leaf2</span><span class="hl-0"> </span><span class="hl-4">// â†’ true</span>
</code></pre>

<a href="#triegettrie-key" id="triegettrie-key" style="color: inherit; text-decoration: none;">
  <h3><code>trieGet(trie, key)</code><a name="get"></a></h3>
</a>
<p>Returns a leaf associated with the <code>key</code>.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><br/><span class="hl-3">trieGet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ {key: &#39;foo&#39;, value: 111, â€¦}</span><br/><br/><span class="hl-3">trieGet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;woopsie&#39;</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ undefined</span>
</code></pre>

<a href="#triesearchtrie-input-startindex-endindex" id="triesearchtrie-input-startindex-endindex" style="color: inherit; text-decoration: none;">
  <h3><code>trieSearch(trie, input, startIndex?, endIndex?)</code><a name="search"></a></h3>
</a>
<p>Searches for a leaf with the key that matches the longest substring in <code>input</code> that starts at <code>startIndex</code> and ends at
<code>endIndex</code>.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foobar&#39;</span><span class="hl-0">, </span><span class="hl-7">222</span><span class="hl-0">);</span><br/><br/><span class="hl-3">trieSearch</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;___foobar___&#39;</span><span class="hl-0">, </span><span class="hl-7">3</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ {key: &#39;foobar&#39;, value: 222, length: 6, â€¦}</span><br/><br/><span class="hl-3">trieSearch</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;___fooba___&#39;</span><span class="hl-0">, </span><span class="hl-7">3</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ {key: &#39;foo&#39;, value: 111, length: 3, â€¦}</span>
</code></pre>
<p>You can provide the <code>endIndex</code> to limit the searched key length:</p>
<pre><code class="language-ts"><span class="hl-3">trieSearch</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;___foobar___&#39;</span><span class="hl-0">, </span><span class="hl-7">3</span><span class="hl-0">, </span><span class="hl-7">7</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ {key: &#39;foo&#39;, value: 111, length: 3, â€¦}</span>
</code></pre>

<a href="#triesuggesttrie-input-startindex-endindex" id="triesuggesttrie-input-startindex-endindex" style="color: inherit; text-decoration: none;">
  <h3><code>trieSuggest(trie, input, startIndex?, endIndex?)</code><a name="suggest"></a></h3>
</a>
<p>Returns the cached readonly array of trie leafs that have keys starting with <code>input.substring(startIndex, endIndex)</code>.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;hotdog&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;hotter&#39;</span><span class="hl-0">, </span><span class="hl-7">222</span><span class="hl-0">);</span><br/><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;hottest&#39;</span><span class="hl-0">, </span><span class="hl-7">333</span><span class="hl-0">);</span><br/><br/><span class="hl-3">trieSuggest</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;hot&#39;</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ [{key: &#39;hotdog&#39;, â€¦}, {key: &#39;hotter&#39;, â€¦}, {key: &#39;hottest&#39;, â€¦}]</span><br/><br/><span class="hl-3">trieSuggest</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;hott&#39;</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ [{key: &#39;hotter&#39;, â€¦}, {key: &#39;hottest&#39;, â€¦}]</span><br/><br/><span class="hl-3">trieSuggest</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;wow&#39;</span><span class="hl-0">);</span><br/><span class="hl-4">// â†’ null</span>
</code></pre>

<a href="#triedeleteleaf" id="triedeleteleaf" style="color: inherit; text-decoration: none;">
  <h3><code>trieDelete(leaf)</code><a name="delete"></a></h3>
</a>
<p>Deletes the <code>leaf</code> trie from its parent.</p>
<pre><code class="language-ts"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">trie</span><span class="hl-0"> = </span><span class="hl-3">trieCreate</span><span class="hl-0">();</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">leaf</span><span class="hl-0"> = </span><span class="hl-3">trieSet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">, </span><span class="hl-7">111</span><span class="hl-0">);</span><br/><br/><span class="hl-3">trieDelete</span><span class="hl-0">(</span><span class="hl-5">leaf</span><span class="hl-0">);</span>
</code></pre>
<p>Or you can combine it with <code>trieGet</code>:</p>
<pre><code class="language-ts"><span class="hl-3">trieDelete</span><span class="hl-0">(</span><span class="hl-3">trieGet</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">));</span>
</code></pre>
<p>You can delete all values with a particular prefix:</p>
<pre><code class="language-ts"><span class="hl-3">trieSuggest</span><span class="hl-0">(</span><span class="hl-5">trie</span><span class="hl-0">, </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-0">)?.</span><span class="hl-3">forEach</span><span class="hl-0">(</span><span class="hl-5">trieDelete</span><span class="hl-0">);</span>
</code></pre>

<a href="#performance" id="performance" style="color: inherit; text-decoration: none;">
  <h1>Performance</h1>
</a>
<p>Clone this repo and use <code>npm ci &amp;&amp; npm run perf</code> to run the performance testsuite.</p>

<a href="#search--get" id="search--get" style="color: inherit; text-decoration: none;">
  <h3>Search / Get</h3>
</a>
<p><img src="https://github.com/smikhalevski/trie/raw/master/images/perf-get.svg" alt="Get performance chart"></p>

<a href="#add-a-new-key" id="add-a-new-key" style="color: inherit; text-decoration: none;">
  <h3>Add a new key</h3>
</a>
<p><img src="https://github.com/smikhalevski/trie/raw/master/images/perf-add.svg" alt="Add a new key performance chart"></p>

<a href="#update-an-existing-key" id="update-an-existing-key" style="color: inherit; text-decoration: none;">
  <h3>Update an existing key</h3>
</a>
<p><img src="https://github.com/smikhalevski/trie/raw/master/images/perf-update.svg" alt="Update an existing key performance chart"></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Trie.html" class="tsd-kind-icon">Trie</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#trieCreate" class="tsd-kind-icon">trie<wbr/>Create</a></li><li class="tsd-kind-function"><a href="modules.html#trieDelete" class="tsd-kind-icon">trie<wbr/>Delete</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#trieGet" class="tsd-kind-icon">trie<wbr/>Get</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#trieSearch" class="tsd-kind-icon">trie<wbr/>Search</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#trieSet" class="tsd-kind-icon">trie<wbr/>Set</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#trieSuggest" class="tsd-kind-icon">trie<wbr/>Suggest</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>